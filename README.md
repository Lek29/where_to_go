# Where to go

 Веб-приложение, отображающее интерактивную карту с интересными местами.
 Позволяет просматривать детальную информацию о локациях, включая 
 описания и фотографии.
 
## Технологии

*   Python 3.11 
*   Django 4.2 
*   HTML5, CSS3
*   JavaScript 
*   Leaflet.js 
*   Vue.js 
*   Bootstrap 
*   django-tinymce 
*   django-admin-sortable2 
*   python-dotenv 
*   Pillow 
*   SQLite 

## Установка и запуск

1.  **Клонируйте репозиторий:**
    ```bash
    git clone https://github.com/Lek29/where_to_go.git 
    cd where_to_go
    ```

2.  **Создайте и активируйте виртуальное окружение:**
    ```bash
    python -m venv .venv 
    # Активация для Windows (PowerShell):
    .\.venv\Scripts\Activate.ps1
    # Активация для Windows (cmd.exe):
    .\.venv\Scripts\activate.bat
    # Активация для Linux/macOS:
    # source .venv/bin/activate
    ```

3.  **Установите зависимости:**
    ```bash
    pip install -r requirements.txt
    ```

4.  **Создайте файл `.env`:**
    *   В корневой папке проекта создайте файл `.env`.
    *   Добавьте необходимые переменные вручную (см. секцию "Переменные Окружения"). Как минимум, нужен `SECRET_KEY`. Для локального запуска установите `DEBUG=True`.

5.  **Примените миграции базы данных:**
    ```bash
    python manage.py migrate
    ```

6.  **Создайте суперпользователя (для доступа к админке):**
    ```bash
    python manage.py createsuperuser
    ```
    (Следуйте инструкциям для ввода логина, email и пароля)

7.  **Загрузите начальные данные:**
    *   Данные о местах и изображения можно добавить через админ-панель (`/admin/`).

8.  **Запустите сервер разработки:**
    ```bash
    python manage.py runserver
    ```

9.  Откройте сайт в браузере по адресу `http://127.0.0.1:8000/`.

## Переменные Окружения

Для настройки проекта используются переменные окружения. При локальной разработке их удобно задавать в файле `.env`, расположенном в корне проекта.

Создайте файл `.env` и добавьте в него следующие переменные:

```dotenv
SECRET_KEY=ВАШ_СЕКРЕТНЫЙ_КЛЮЧ

# Для локальной разработки: True, для продакшена: False
DEBUG=True
```
**Важно**: Файл `.env` не должен попадать в систему контроля версий (Git).
Убедитесь, что он добавлен в `.gitignore`.

## Цели Проекта / Реализованный Функционал

Данный проект является учебным веб-приложением, разработанным на Django,
и реализует следующие возможности:

*   Отображение интерактивной карты (с использованием Leaflet.js).
*   Загрузка и отображение на карте интересных мест (локаций) из базы данных.
*   Динамическая подгрузка и отображение детальной информации о выбранном месте (название, краткое и полное описание, координаты, изображения) с использованием JavaScript (Vue.js) и JSON API.
*   Реализован API endpoint для получения детальной информации о месте по его ID.
*   Настроена административная панель Django для управления данными о местах и их изображениях.
*   Реализовано добавление нескольких изображений к одному месту.
*   В админ-панели добавлено превью для загруженных изображений.
*   Реализована возможность сортировки изображений для каждого места перетаскиванием (drag-and-drop) в админке (с использованием `django-adminsortable2`).
*   Интегрирован WYSIWYG-редактор `TinyMCE` для удобного редактирования поля с полным описанием места в админке (с использованием `django-tinymce`).
*   Проект подготовлен к развертыванию: чувствительные настройки вынесены в переменные окружения (с использованием `python-dotenv` для локальной разработки).
*   В проекте реализован функцианал загрузки информции о локациях посредством кастомной команды
    `python manage.py load_place http://адрес/файла.json`
*   Пример JSON файла:
    ```python 
        {
            "title": "Дизайн-квартал Флакон",
            "imgs": [
                "https://raw.githubusercontent.com/devmanorg/where-to-go-places/master/media/40457e6b95ee4512d3c980202db6c12b.jpg"
            ],
            "description_short": "Креативный кластер Флакон вырос в целый район благодаря постоянному взаимодействию с горожанами, созданию живого творческого сообщества и внимательному выбору резидентов. ",
            "description_long": "<p>Флакон — место притяжения горожан и туристов. Здесь разместилось множество шоу-румов, студий и мастерских, кафе и и ресторанов, площадок для обучения, концертных и театральных пространств и многое другое. Всего свыше 250 арендаторов. Флакон создан так, чтобы каждый посетитель мог здесь творить, самовыражаться и отдыхать.</p><h3>Особенности креативного кластера</h3><ul><li>Это открытое и доступное пространство без заборов, с коротким проходом от станции метро Дмитровская.</li><li>Инфраструктура удобна и продолжает улучшаться. Есть парковка и велопарковка, каршеринг, пешеходная зона, зелёные зоны для отдыха, спортивные площадки под открытым небом.</li><li>Для резидентов созданы такие рабочие условия, в которых комфортно творить.</li><li>Городские события проходят в новом формате, к ним присоединяются яркие и уникальные проекты из разных областей — культуры, искусства, бизнеса.</li></ul><blockquote class=\"directSpeech\"><p class=\"directSpeech-text\">Наш неспальный район — это атмосфера локального туризма, фестиваля. Настроение, за которым не нужно никуда лететь.</p></blockquote><p>На Флаконе проходят масштабные культурные и фестивальные события. Фестивали страноведения проводятся в формате «дней» разных стран — Франции, Норвегии, Сингапура, Японии и многих других. Также здесь проходят автомобильный фестиваль «Листва», фестивали креативных индустрий и современного искусства. На форуме «Хлебокультура» собираются представители ремесленных пекарен, а на «Ламбада-маркете» — мастера и любители хэнд-мейда.</p><p>Флакон — одно из самых популярных мест для городских мероприятий, выставок, театральных постановок, видео- и фотосъёмок большого масштаба.</p><p>Кафе и шоу-румы Флакона работают с 10:00 до 22:00.</p><p>В ноябре 2019 года стартовала программа лояльности для посетителей.</p>",
            "coordinates": {
                "lng": "37.58440699999958",
                "lat": "55.80563009999988"
            }
        }
    ```
## Пример сайта
https://lek29.pythonanywhere.com/